# .github/workflows/pull-request.yml
name: Pull Request Handler

on:
  pull_request:
    branches: ["main"]
    types: [opened, synchronize]

jobs:
  process_code:
    if: github.event.pull_request.head.repo.full_name == github.event.pull_request.base.repo.full_name
    uses: soulCooker/landingzoneaccelerator/.github/workflows/shared-ci-upload-source-package.yml@main
    secrets: inherit
    with:
      base_ref: ${{ github.base_ref }}
      head_sha: ${{ github.event.pull_request.head.sha }}
      IAC_GOVERNANCE_REPO: soulCooker/landingzoneaccelerator
      IAC_GOVERNANCE_REF: main